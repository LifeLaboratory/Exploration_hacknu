{"remainingRequest":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lalow_/Desktop/git/Exploration_hacknu/front/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/src/views/Search.vue","mtime":1616312929635},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHYW1lQ2FyZHNTdGFjayBmcm9tICIuLi9jb21wb25lbnRzL0NhcmQvR2FtZUNhcmRzU3RhY2siOwppbXBvcnQgYWl0dUJyaWRnZSBmcm9tICdAYnRzZC9haXR1LWJyaWRnZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQge2lwfSBmcm9tICdAL2NmZy9zZXR0aW5nLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQXBwIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBHYW1lQ2FyZHNTdGFjawogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNhbjogZmFsc2UsCiAgICAgICAgICAgIHZpc2libGVDYXJkczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMiwKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMywKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogNCwKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgICAgICAgZGF0YToge30KICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCAoKSB7CiAgICAgICAgbGV0IGQgPSBhd2FpdCBheGlvcy5nZXQoYCR7aXB9L3VzZXIvZ2V0X25leHRfdXNlcmAsCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnc2Vzc2lvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gZC5kYXRhCgoKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0TmV3UGFpcihkYXRhKSB7CiAgICAgICAgICAgIGxldCBkID0gYXdhaXQgYXhpb3MucG9zdChgJHtpcH0vdXNlci9zd2lwZWAsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlkX3NlY29uZDogZGF0YS5pdGVtLmlkLAogICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnR5cGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnc2Vzc2lvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMudXNlckxpc3QucHVzaChkLmRhdGEpCiAgICAgICAgICAgIGlmIChkLmRhdGEuc3RhdHVzID09PSAnbWVldGluZycpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGJ1ZWZ5LmRpYWxvZy5jb25maXJtKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ9Cd0L7QstCw0Y8g0L/QsNGA0LAgIScsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ9CjINCy0LDRgSDQv9C+0Y/QstC40LvQvtGB0YwgMSDRgdC+0LLQv9Cw0LTQtdC90LjQtSwg0L/QvtGB0LXRgtC40YLQtSDRgdGC0YDQsNC90LjRhtGDINC/0LDRgCDQtNC70Y8g0Y3RgtC+0LPQvicsCiAgICAgICAgICAgICAgICAgICAgY29uZmlybVRleHQ6ICfQn9GA0L7RgdC80L7RgtGA0LXRgtGMJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaXMtZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgICBoYXNJY29uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpID0+IHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL21lL21hcCd9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ2FyZEFjY2VwdGVkKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiaGFuZGxlQ2FyZEFjY2VwdGVkIik7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVDYXJkUmVqZWN0ZWQoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoYW5kbGVDYXJkUmVqZWN0ZWQiKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNhcmRTa2lwcGVkKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiaGFuZGxlQ2FyZFNraXBwZWQiKTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZUNhcmRGcm9tRGVjaygpIHsKICAgICAgICAgICAgdGhpcy52aXNpYmxlQ2FyZHMuc2hpZnQoKTsKICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"GameCards\">\n        <GameCardsStack :data=\"userList\" v-if=\"userList.length > 3\" @selectPair=\"getNewPair\" />\n        <div v-else>\n            Пользователей больше нет\n        </div>\n    </div>\n</template>\n<script>\nimport GameCardsStack from \"../components/Card/GameCardsStack\";\nimport aituBridge from '@btsd/aitu-bridge'\nimport axios from 'axios'\nimport {ip} from '@/cfg/setting.js'\nexport default {\n    name: \"App\",\n    components: {\n        GameCardsStack\n    },\n\n    data() {\n        return {\n            can: false,\n            visibleCards: [\n            {\n                id: 1,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            },\n            {\n                id: 2,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            },\n            {\n                id: 3,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            },\n            {\n                id: 4,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            }\n            ],\n            userList: [],\n            data: {}\n        }\n    },\n    async mounted () {\n        let d = await axios.get(`${ip}/user/get_next_user`,\n        {\n          headers: {\n            'session': localStorage.getItem('id')\n          }\n        })\n        this.userList = d.data\n\n\n    },\n    methods: {\n        async getNewPair(data) {\n            let d = await axios.post(`${ip}/user/swipe`,\n            {\n                id_second: data.item.id,\n                status: data.type\n            },\n            {\n            headers: {\n                'session': localStorage.getItem('id')\n            }\n            })\n            \n            this.userList.push(d.data)\n            if (d.data.status === 'meeting') {\n                this.$buefy.dialog.confirm({\n                    title: 'Новая пара !',\n                    message: 'У вас появилось 1 совпадение, посетите страницу пар для этого',\n                    confirmText: 'Просмотреть',\n                    type: 'is-danger',\n                    hasIcon: false,\n                    onConfirm: () => this.$router.push({path: '/me/map'})\n                })\n            }\n        },\n        handleCardAccepted() {\n            console.log(\"handleCardAccepted\");\n        },\n        handleCardRejected() {\n            console.log(\"handleCardRejected\");\n        },\n        handleCardSkipped() {\n            console.log(\"handleCardSkipped\");\n        },\n        removeCardFromDeck() {\n            this.visibleCards.shift();\n        }\n    }\n};\n</script>\n\n\n<style lang=\"scss\">\n    #app {\n        font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n        text-align: center;\n    }\n</style>"]}]}