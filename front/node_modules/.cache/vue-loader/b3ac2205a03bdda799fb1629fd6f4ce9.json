{"remainingRequest":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lalow_/Desktop/git/Exploration_hacknu/front/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/src/views/Search.vue","mtime":1616319592532},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lalow_/Desktop/git/Exploration_hacknu/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHYW1lQ2FyZHNTdGFjayBmcm9tICIuLi9jb21wb25lbnRzL0NhcmQvR2FtZUNhcmRzU3RhY2siOwppbXBvcnQgYWl0dUJyaWRnZSBmcm9tICdAYnRzZC9haXR1LWJyaWRnZScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQge2lwfSBmcm9tICdAL2NmZy9zZXR0aW5nLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQXBwIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBHYW1lQ2FyZHNTdGFjawogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNhbjogZmFsc2UsCiAgICAgICAgICAgIHZpc2libGVDYXJkczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMiwKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMywKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogNCwKICAgICAgICAgICAgICAgIHBob3RvOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICdSb21hbicsCiAgICAgICAgICAgICAgICBhZ2U6IDIwLAogICAgICAgICAgICAgICAgaW50ZXJlc3M6ICdzd2luZ2VyJwogICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgICAgICAgZGF0YToge30KICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCAoKSB7CiAgICAgICAgbGV0IGQgPSBhd2FpdCBheGlvcy5nZXQoYCR7aXB9L3VzZXIvZ2V0X25leHRfdXNlcmAsCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnc2Vzc2lvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gZC5kYXRhCgoKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0TmV3UGFpcihkYXRhKSB7CiAgICAgICAgICAgIGxldCBkID0gYXdhaXQgYXhpb3MucG9zdChgJHtpcH0vdXNlci9zd2lwZWAsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlkX3NlY29uZDogZGF0YS5pdGVtLmlkLAogICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnR5cGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnc2Vzc2lvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMudXNlckxpc3QucHVzaChkLmRhdGEpCiAgICAgICAgICAgIGlmIChkLmRhdGEuc3RhdHVzID09PSAnbWVldGluZycpIHsKICAgICAgICAgICAgICAgIGFpdHVCcmlkZ2UudmlicmF0ZShbMTAwMF0pOwogICAgICAgICAgICAgICAgdGhpcy4kYnVlZnkuZGlhbG9nLmNvbmZpcm0oewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn0J3QvtCy0LDRjyDQv9Cw0YDQsCAhJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn0KMg0LLQsNGBINC/0L7Rj9Cy0LjQu9C+0YHRjCAxINGB0L7QstC/0LDQtNC10L3QuNC1LCDQv9C+0YHQtdGC0LjRgtC1INGB0YLRgNCw0L3QuNGG0YMg0L/QsNGAINC00LvRjyDRjdGC0L7Qs9C+JywKICAgICAgICAgICAgICAgICAgICBjb25maXJtVGV4dDogJ9Cf0YDQvtGB0LzQvtGC0YDQtdGC0YwnLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpcy1kYW5nZXInLAogICAgICAgICAgICAgICAgICAgIGhhc0ljb246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvbWUvbWFwJ30pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVDYXJkQWNjZXB0ZWQoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoYW5kbGVDYXJkQWNjZXB0ZWQiKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNhcmRSZWplY3RlZCgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImhhbmRsZUNhcmRSZWplY3RlZCIpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ2FyZFNraXBwZWQoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoYW5kbGVDYXJkU2tpcHBlZCIpOwogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlQ2FyZEZyb21EZWNrKCkgewogICAgICAgICAgICB0aGlzLnZpc2libGVDYXJkcy5zaGlmdCgpOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"GameCards\">\n        <GameCardsStack :data=\"userList\" v-if=\"userList.length > 3\" @selectPair=\"getNewPair\" />\n        <div v-else>\n            Пользователей больше нет\n        </div>\n    </div>\n</template>\n<script>\nimport GameCardsStack from \"../components/Card/GameCardsStack\";\nimport aituBridge from '@btsd/aitu-bridge'\nimport axios from 'axios'\nimport {ip} from '@/cfg/setting.js'\nexport default {\n    name: \"App\",\n    components: {\n        GameCardsStack\n    },\n\n    data() {\n        return {\n            can: false,\n            visibleCards: [\n            {\n                id: 1,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            },\n            {\n                id: 2,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            },\n            {\n                id: 3,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            },\n            {\n                id: 4,\n                photo: '',\n                name: 'Roman',\n                age: 20,\n                interess: 'swinger'\n            }\n            ],\n            userList: [],\n            data: {}\n        }\n    },\n    async mounted () {\n        let d = await axios.get(`${ip}/user/get_next_user`,\n        {\n          headers: {\n            'session': localStorage.getItem('id')\n          }\n        })\n        this.userList = d.data\n\n\n    },\n    methods: {\n        async getNewPair(data) {\n            let d = await axios.post(`${ip}/user/swipe`,\n            {\n                id_second: data.item.id,\n                status: data.type\n            },\n            {\n            headers: {\n                'session': localStorage.getItem('id')\n            }\n            })\n            \n            this.userList.push(d.data)\n            if (d.data.status === 'meeting') {\n                aituBridge.vibrate([1000]);\n                this.$buefy.dialog.confirm({\n                    title: 'Новая пара !',\n                    message: 'У вас появилось 1 совпадение, посетите страницу пар для этого',\n                    confirmText: 'Просмотреть',\n                    type: 'is-danger',\n                    hasIcon: false,\n                    onConfirm: () => this.$router.push({path: '/me/map'})\n                })\n            }\n        },\n        handleCardAccepted() {\n            console.log(\"handleCardAccepted\");\n        },\n        handleCardRejected() {\n            console.log(\"handleCardRejected\");\n        },\n        handleCardSkipped() {\n            console.log(\"handleCardSkipped\");\n        },\n        removeCardFromDeck() {\n            this.visibleCards.shift();\n        }\n    }\n};\n</script>\n\n\n<style lang=\"scss\">\n    #app {\n        font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n        text-align: center;\n    }\n</style>"]}]}